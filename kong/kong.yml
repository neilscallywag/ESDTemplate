_format_version: "2.1"

services:
  - name: auth-service
    url: http://auth-service
    routes:
      - name: google-auth-callback
        paths:
          - /auth/google/callback
      - name: auth-logout
        paths:
          - /auth/logout
      - name: auth-refresh-token
        paths:
          - /auth/refresh

  - name: service-one
    url: http://service-one
    routes:
      - name: service-one-ping
        paths:
          - /service-one/ping
      - name: service-one-test
        paths:
          - /service-one/test

  - name: service-two
    url: http://service-two
    routes:
      - name: service-two-ping
        paths:
          - /service-two/ping
      - name: service-two-test
        paths:
          - /service-two/test

  - name: service-three
    url: http://service-three
    routes:
      - name: service-three-ping
        paths:
          - /service-three/ping
      - name: service-three-test
        paths:
          - /service-three/test

# plugins:
#   - name: authn-kong
#     service: { service-name: service-one }
#     config:
#       jwt_secret: "your_jwt_secret"
#       redis_host: "redis_host"
#       redis_port: 6379
#       redis_timeout: 2000
#   - name: authn-kong
#     service: { service-name: service-two }
#     config:
#       jwt_secret: "your_jwt_secret"
#       redis_host: "redis_host"
#       redis_port: 6379
#       redis_timeout: 2000
#   - name: authn-kong
#     service: { service-name: service-three }
#     config:
#       jwt_secret: "your_jwt_secret"
#       redis_host: "redis_host"
#       redis_port: 6379
#       redis_timeout: 2000
#   - name: authn-kong
#     service: { service-name: auth-service }
#     config:
#       jwt_secret: "your_jwt_secret"
#       redis_host: "redis_host"
#       redis_port: 6379
#       redis_timeout: 2000